<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Zenith test page</title>
  <script src="./Zenith/Zenith.ts"></script>
</head>
<body>
  <div id="test1"></div>
  <div id="test2"></div>
  <script>
    var element1 = Zenith.Dom.Element.fetch('#test1');
    var element2 = Zenith.Dom.Element.fetch('#test2');

    // Zenith.Dom.appendTo(
    //   Zenith.Dom.Element.create('img')
    //     .setAttribute(
    //       'src',
    //       'https://www.google.com/logos/doodles/2018/world-cup-2018-day-23-6245640538423296.3-law.gif'
    //     ).element
    //   );

    // element.append(Zenith.Dom.Element.create('img')
    //                                 .setAttribute('id', 'pum')
    //                                 .setAttribute('src', 'https://d30y9cdsu7xlg0.cloudfront.net/png/763027-200.png').element);

    // var time = performance.now();
    // Zenith.Comms.Ajax.sendRequest(
    //   'http://localhost:1234/Zenith.7c6a5a41.map', {
    //   handlers: {
    //     state: {
    //       '0': () => {
    //         console.log('unsent ->' + (performance.now() - time)); // Should be ignored
    //       },
    //       '1': () => {
    //         console.log('open ->' + (performance.now() - time));
    //       },
    //       '2': () => {
    //         console.log('header received ->' + (performance.now() - time));
    //       },
    //       '3': () => {
    //         console.log('loading ->' + (performance.now() - time));
    //       },
    //       '4': () => {
    //         console.log('done ->' + (performance.now() - time)); // Should be ignored
    //       }
    //     },
    //     status: {
    //       '404': () => { console.log('404 ->' + (performance.now() - time)); },
    //       '200': (response, xhr) => { console.log('200 ->' + (performance.now() - time));  } // Should be ignored
    //     },
    //     afterSend: (xhr) => { console.log('afterSend ->' + (performance.now() - time)); },
    //     beforeSend: (xhr) => { console.log('beforeSend ->' + (performance.now() - time)); },
    //     abort: (xhr) => { console.log('abort ->' + (performance.now() - time)); },
    //     success: (response, xhr) => { element1.html = response; console.log('success ->' + (performance.now() - time)); },
    //     complete: () => {
    //       console.log('Complete ->' + (performance.now() - time));
    //     },
    //     error: (xhr) => { console.log('error ' + xhr.statusText); }
    //   }
    // });

    // var counter = 0;
    // var sb = Zenith.Common.StringBuilder.getInstance('Hello ');
    // var t = Zenith.Common.Timer.getInstance(() => {
    //   switch(counter) {
    //     case 0:
    //       sb.add('5 ');
    //       break;
    //     case 1:
    //       sb.add('4 ');
    //       break;
    //     case 2:
    //       sb.add('3 ');
    //       break;
    //     case 3:
    //       sb.add('2 ');
    //       break;
    //     case 4:
    //       sb.add(`1 - timer stopped? ${t.isRunning()}`);
    //       break;
    //     case 5:
    //       sb.add(`0 test percent: ${Zenith.Common.Extensions.Number.percent(123, 200, true)}`); // Should not be hit
    //       break;
    //   }
    //   element.text = sb.result;
    //   counter++;
    // }, 1000, { repeatLimit: 6 });

      // var list = Zenith.Data.List.getInstance();
      // list.onAdd = (addedItem) => {
      //   console.log(addedItem);
      // };

      // list.add([ 'Hello', 'World', 'Please', 'Have', 'Fun' ])
      // element.text = list.concatAll('|');

      // var queue = Zenith.Data.Queue.getInstance('Hello', 'World', 'Please', 'Have', 'Fun');
      // queue.each((queueItem, queueList, index) => {
      //   console.log(`${index} - ${queueItem} - ${queue}`);
      //   // console.log(queue.dequeue());
      // });
      // console.log(queue.toArray());
      // console.log(queue.dequeue());
      // console.log(queue.toArray());
      // console.log(queue.dequeue());
      // console.log(queue.toArray());
      // console.log(queue.dequeue());
      // console.log(queue.toArray());
      // console.log(queue.dequeue());
      // console.log(queue.toArray());
      // console.log(queue.dequeue());
      // console.log(queue.toArray());

    // var counter = 1;
    // var t = Zenith.Common.Timer.getInstance(() => {
    //   element.text = counter++;
    // }, 100, { repeatLimit: 100 });

    // var sb = Zenith.Common.StringBuilder.create('Hello World');
    // element1.text = sb.replace('World', 'HEEELLLoO!').toString();
  </script>
</body>
</html>